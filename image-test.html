<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Responsive Images Test</title>
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <style>
      body:before {
        background-color: red;
        box-sizing: border-box;
        color: white;
        content: "--- THRESHOLD ---";
        display: block;
        font-family: monospace;
        padding: 2px;
        position: absolute;
        text-align: center;
        top: calc(100vh + 1250px);
        left: 0;
        width: 100%;
      }
      img { width: 100%; height: auto; display: block; margin: 1em 0; background-color: blue; }
    </style>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üñºÔ∏è</text></svg>">
  </head>
  <body>
    <ul id="info">
      <li>Pixel Ratio: <span id="pr"></span></li>
      <li>Width: <span id="w"></span></li>
      <li>Total: <span id="total"></span></li>
    </ul>

    <img
      alt="This is the hero image"
      width="960" height="250"
      onload="console.log('loaded', window.innerWidth)"
      src="https://via.placeholder.com/360?text=original"
      sizes="100vw"
      srcset="https://via.placeholder.com/250x250?text=250w 250w, 
        https://via.placeholder.com/300x250?text=300w 300w, 
        https://via.placeholder.com/350x250?text=350w 350w, 
        https://via.placeholder.com/400x250?text=400w 400w, 
        https://via.placeholder.com/450x250?text=450w 450w, 
        https://via.placeholder.com/500x250?text=500w 500w, 
        https://via.placeholder.com/550x250?text=550w 550w, 
        https://via.placeholder.com/600x250?text=600w 600w, 
        https://via.placeholder.com/650x250?text=650w 650w, 
        https://via.placeholder.com/700x250?text=700w 700w, 
        https://via.placeholder.com/750x250?text=750w 750w, 
        https://via.placeholder.com/800x250?text=800w 800w, 
        https://via.placeholder.com/850x250?text=850w 850w, 
        https://via.placeholder.com/900x250?text=900w 900w, 
        https://via.placeholder.com/950x250?text=950w 950w, 
        https://via.placeholder.com/1000x250?text=1000w 1000w, 
        https://via.placeholder.com/1050x250?text=1050w 1050w, 
        https://via.placeholder.com/1100x250?text=1100w 1100w, 
        https://via.placeholder.com/1150x250?text=1150w 1150w, 
        https://via.placeholder.com/1200x250?text=1200w 1200w"
    >

    <picture>
      <source media="(min-width: 1500px)"
              srcset="https://via.placeholder.com/1920x540?text=1920+1x 1x,
                      https://via.placeholder.com/2400x540?text=2400+2x 2x,
                      https://via.placeholder.com/2400x540?text=2400+3x 3x">
      <source media="(min-width: 1024px)"
              srcset="https://via.placeholder.com/1440x540?text=1440+1x 1x,
                      https://via.placeholder.com/1920x540?text=1920+2x 2x,
                      https://via.placeholder.com/2400x540?text=2400+3x 3x">
      <source media="(min-width: 640px)"
              srcset="https://via.placeholder.com/960x540?text=960+1x 1x,
                      https://via.placeholder.com/1440x540?text=1440+2x 2x,
                      https://via.placeholder.com/1440x540?text=1440+3x 3x">
      <source srcset="https://via.placeholder.com/480x540?text=480+1x 1x,
                      https://via.placeholder.com/960x540?text=960+2x 2x,
                      https://via.placeholder.com/960x540?text=960+3x 3x">
      <img src="https://via.placeholder.com/960x540?text=original"
           width="960"
           height="540"
           alt="Descriptive Text">
    </picture>

    <picture>
      <source srcset="https://via.placeholder.com/1416x360 1x, https://via.placeholder.com/2832x360 2x" media="(min-width: 1200px)">
      <source srcset="https://via.placeholder.com/870x360 1x, https://via.placeholder.com/1740x360 2x" media="(min-width: 1025px)">
      <source srcset="https://via.placeholder.com/750x360 1x, https://via.placeholder.com/1500x360 2x" media="(max-width: 1024px)">
      <img src="https://via.placeholder.com/1600x360" alt="ALT" width="960" height="960">
    </picture>
    
    <img src="https://via.placeholder.com/480x360?text=lazy+load+1" width="480" height="360" loading="lazy" alt="lazy loading image">
    <img src="https://via.placeholder.com/480x360?text=lazy+load+2" width="480" height="360" loading="lazy" alt="lazy loading image">
    <img src="https://via.placeholder.com/480x360?text=lazy+load+3" width="480" height="360" loading="lazy" alt="lazy loading image">
    <img src="https://via.placeholder.com/480x360?text=lazy+load+4" width="480" height="360" loading="lazy" alt="lazy loading image">
    <img src="https://via.placeholder.com/480x360?text=lazy+load+5" width="480" height="360" loading="lazy" alt="lazy loading image">
    <img src="https://via.placeholder.com/480x360?text=lazy+load+6" width="480" height="360" loading="lazy" alt="lazy loading image">
    <img src="https://via.placeholder.com/480x360?text=lazy+load+7" width="480" height="360" loading="lazy" alt="lazy loading image">
    <img src="https://via.placeholder.com/480x360?text=lazy+load+8" width="480" height="360" loading="lazy" alt="lazy loading image">
    <img src="https://via.placeholder.com/480x360?text=lazy+load+9" width="480" height="360" loading="lazy" alt="lazy loading image">
    <img src="https://via.placeholder.com/480x360?text=lazy+load+10" width="480" height="360" loading="lazy" alt="lazy loading image">

    <script>
      function getDimensions() { 
        document.getElementById('pr').innerText = window.devicePixelRatio;
        document.getElementById('w').innerText = window.innerWidth;
        document.getElementById('total').innerText = window.devicePixelRatio * window.innerWidth;
      }
      
      getDimensions();
      
      window.onresize = getDimensions;
      
      function widths(inc = 480, max = 2400, pad = inc * 0.05) {
        let size = inc;

        while (size < max) {
          console.log(size, size + pad);
          size = size + inc;
        }

        console.log(size, size + pad);
      }
      
      widths();
    </script>
  </body>
</html>
